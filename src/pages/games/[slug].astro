---
import { getCollection } from "astro:content";
import type { InferGetStaticParamsType } from "astro";
import BasicLayout from "../../layouts/BasicLayout.astro";

type Params = InferGetStaticParamsType<typeof getStaticPaths>;

export async function getStaticPaths() {
  const games = await getCollection("games");
  const gamesPaths = games.map((game) => ({
    params: {
      slug: game.id.split("/")[1],
    },
    props: { games },
  }));

  return gamesPaths;
}

const { slug } = Astro.params as Params;
const { games } = Astro.props;
---

<BasicLayout>
  <!-- <ServicesModalForm client:load services={services} /> -->
</BasicLayout>

<style></style>
