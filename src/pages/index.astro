---
import { getCollection } from "astro:content";
import HtmlBase from "@/layouts/HtmlBase.astro";
import SectHero from "@/components/LandingHero.astro";
import SectForm from "@/sections/SectForm.astro";
import SectGames from "@/sections/SectGames.astro";
import SectSocials from "@/sections/SectSocials.astro";
import SectServices from "@/sections/SectServices.astro";
import SectPublishing from "@/sections/SectPublishing.astro";
import SectCarrier from "@/sections/SectCarrier.astro";
import ServicesModalForm from "@/components/ServicesModalForm.svelte";
import PublishingModalForm from "../components/PublishingModalForm.svelte";
import ModalTrigger from "../components/ModalTrigger.svelte";
import BasicLayout from "../layouts/BasicLayout.astro";

const services = await getCollection("services");
const publishing = await getCollection("publishing");
---

<BasicLayout title="E I S V I L">
  <SectHero>
    <ModalTrigger client:load type={"services"} flexPosition="center">
      Создать новый мир
    </ModalTrigger>
  </SectHero>
  <SectGames />
  <SectServices />
  <SectPublishing />
  <SectCarrier />

  <Fragment slot="after-main">
    <ServicesModalForm client:load services={services} />
    <PublishingModalForm client:load publishing={publishing} />
  </Fragment>
</BasicLayout>
