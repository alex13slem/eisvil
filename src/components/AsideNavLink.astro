---
import type { HTMLAttributes } from "astro/types";
import { cn } from "../utils/helpers";

interface Props extends HTMLAttributes<"a"> {}

const { href, ...props } = Astro.props;
---

<a
  href={href}
  class={cn(Astro.url.pathname.includes(String(href)) && "active")}
  {...props}><slot /></a
>

<style lang="scss">
  @import "../styles/mixins";

  a {
    padding: 0 1rem;
    line-height: 3;
    color: rgb(var(--color-white));
    transition-property: text-shadow;
    transition: var(--trans-default);

    position: relative;

    border-bottom: 1px solid;
    border-image: linear-gradient(
        90deg,
        rgb(var(--color-white), 0) -1rem,
        rgb(var(--color-white), 0.1) 100%
      )
      1;

    transition-property: text-shadow;
    transition: var(--trans-default);

    &::after {
      position: absolute;
      content: "";
      inset: 0;
      right: auto;
      width: 0;
      background: linear-gradient(
        90deg,
        rgb(var(--color-accent), 25%),
        transparent
      );

      transition-property: width;
      transition: var(--trans-default);
    }

    &:hover,
    &.active {
      @include hover-text1();
    }

    &:hover::after {
      width: 75%;
    }
    &.active::after {
      width: 100%;
    }
  }
</style>
