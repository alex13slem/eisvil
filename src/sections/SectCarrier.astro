---
import type { HTMLAttributes } from "astro/types";
import BtnFirm from "../components/BtnFirm.svelte";
import { Image } from "astro:assets";
import warriorSVG from "@/img/sections/career/warrior.svg";

interface Props extends HTMLAttributes<"section"> {}

const { class: className, ...props } = Astro.props;
---

<section class:list={["sect-carrier", className]} {...props}>
  <div class="container">
    <Image class="image" src={warriorSVG} alt={"warrior"} />
    <div class="inner">
      <h2 class="sect-title">Карьера</h2>
      <div class="body">
        <h3>
          Присоединяйтесь к нам и станьте частью команды, которая создает самые
          увлекательные игры!
        </h3>
        <p class="description">
          Мы предлагаем дружественную и профессиональную обстановку, где вы
          сможете реализовать свой потенциал и работать над уникальными
          проектами вместе с единомышленниками.
        </p>
        <BtnFirm variant="contrast">Присоедениться</BtnFirm>
      </div>
    </div>
  </div>
</section>

<style lang="scss">
  .sect-carrier {
    --sect-inset: 40px;
    --sect-offset-x: calc(var(--container-offset) + var(--sect-inset));
    filter: drop-shadow(var(--box-shadow-active));
  }
  .container {
    padding: var(--sect-inset) var(--container-offset) var(--sect-inset)
      var(--sect-offset-x);
    position: relative;
    min-height: 400px;

    display: flex;
    flex-direction: column;

    &::before {
      content: "";
      position: absolute;
      inset: 0;

      background:
        url("../img/sections/career/decor.svg") var(--container-offset) 50% /
          320px 100% no-repeat,
        url("../img/sections/career/triangle.svg") var(--container-offset) 50% /
          contain no-repeat,
        url("../img/sections/career/triangle-shadow.svg")
          calc(var(--container-offset) + 10px) 50% / contain no-repeat;
    }
  }
  .image {
    position: absolute;
    top: -40px;
    right: 60px;
  }
  .inner {
    position: relative;
    flex: 1 1 auto;

    display: flex;
    gap: 45px;

    &::before {
      content: "";
      z-index: -1;
      position: absolute;
      inset: 0;
      background: url("../img/sections/career/mask.svg") center/cover no-repeat;
      background-color: rgb(var(--color-accent));
      clip-path: polygon(
        100% 0,
        100% calc(100% - 80px),
        calc(100% - 80px) 100%,
        0 100%,
        0 0
      );
    }
  }
  h2 {
    flex: 0 0 calc(var(--left-panel-w) - var(--sect-offset-x));
    margin: 0;
  }
  .body {
    flex: 0 1 630px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 30px;

    :global(button) {
      align-self: flex-start;
    }
  }
  h3,
  p {
    margin: 0;
  }
</style>
